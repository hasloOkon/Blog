@model Blog.WebApp.ViewModels.Forms.EditPostForm

@{
    ViewBag.Title = Resources.EditPost;
}

<div class="content-bg p-5">
    <h2>@Resources.EditPost</h2>

    @using (Html.BeginForm("EditPost", "Admin", FormMethod.Post))
    {
        @Html.HiddenFor(m => m.Id)

        <div class="row mt-4">
            @Html.LabelFor(m => m.Title)
        </div>
        <div class="row">
            @Html.ValidationMessageFor(m => m.Title)
            @Html.TextBoxFor(m => m.Title, htmlAttributes: new { @class = "form-control col-12" })
        </div>

        <div class="row mt-4">
            @Html.LabelFor(m => m.CategoryId)
        </div>
        <div class="row">
            @Html.CategoryDropDownListFor(m => m.CategoryId, Model.Categories)
        </div>

        <div class="row mt-4">
            @Html.LabelFor(m => m.TagIds)
        </div>
        <div class="row">
            @Html.TagListBoxFor(m => m.TagIds, Model.Tags)
        </div>

        <div class="row mt-4">
            @Html.LabelFor(m => m.Description)
            &nbsp;
            @AdminOnly.CustomContent(Html.ImagesLink(Resources.BrowseImagesLink, openInNewTab: true))
        </div>
        <div class="row">
            <div class="w-100">
                @Html.ValidationMessageFor(m => m.Description)
                @Html.TextAreaFor(m => m.Description, htmlAttributes: new { id = "description-editor" })
            </div>
        </div>

        <div class="row mt-4">
            @Html.LabelFor(m => m.Content)
            &nbsp;
            @AdminOnly.CustomContent(Html.ImagesLink(Resources.BrowseImagesLink, openInNewTab: true))
        </div>
        <div class="row">
            <div class="w-100">
                @Html.ValidationMessageFor(m => m.Content)
                @Html.TextAreaFor(m => m.Content, htmlAttributes: new {id = "content-editor"})
            </div>
        </div>

        <div class="form-group text-center mt-2">
            <button type="submit" class="btn">@Resources.Submit</button>
        </div>
    }
</div>

<script>
    $(document)
        .ready(function() {
            $('#description-editor')
                .summernote({
                    height: 100,
                    followingToolbar: false
                });
            $('#content-editor')
                .summernote({
                    height: 300,
                    followingToolbar: false
                });
        });
</script>
